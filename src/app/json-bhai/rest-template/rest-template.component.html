<div class="container mt-4">
    <h2>API Tester</h2>

    <!-- API URL and Method -->
    <div class="mb-3">
        <input type="text" [(ngModel)]="url" class="form-control" placeholder="Enter API URL">
        <select [(ngModel)]="method" class="form-select mt-2">
            <option>GET</option>
            <option>POST</option>
            <option>PUT</option>
            <option>DELETE</option>
        </select>
    </div>

    <!-- Headers -->
    <h4>Headers</h4>
    <div *ngFor="let header of headers">
        <input type="text" [(ngModel)]="header.key" placeholder="Key" class="form-control d-inline w-25">
        <input type="text" [(ngModel)]="header.value" placeholder="Value" class="form-control d-inline w-50">
    </div>
    <button (click)="addHeader()" class="btn btn-primary mt-2">+ Add Header</button>

    <!-- Query Params -->
    <h4 class="mt-3">Query Parameters</h4>
    <div *ngFor="let param of params">
        <input type="text" [(ngModel)]="param.key" placeholder="Key" class="form-control d-inline w-25">
        <input type="text" [(ngModel)]="param.value" placeholder="Value" class="form-control d-inline w-50">
    </div>
    <button (click)="addParam()" class="btn btn-primary mt-2">+ Add Parameter</button>

    <!-- Request Body (for POST, PUT) -->
    <h4 class="mt-3">Request Body</h4>
    <textarea [(ngModel)]="requestBody" class="form-control" placeholder="Enter JSON body" rows="5"></textarea>

    <!-- Send Button -->
    <button (click)="sendRequest()" class="btn btn-success mt-3">Send Request</button>

    <!-- Response -->
    <h4 class="mt-3">Response</h4>
    <pre class="bg-light p-3 border rounded">{{ response }}</pre>
</div>
